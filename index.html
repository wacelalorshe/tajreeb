<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุงุช ุจู ุฅู ุณุจูุฑุช - Aseel TV</title>
    
    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amita">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-title">
            <a href="#" class="text-box">
                <span>ูููุงุช BEIN SPORT</span>
            </a>
        </div>
        
        <!-- Login Button Top Left -->
        <button id="loginToggle" class="login-toggle">
            <i class="uil uil-signin"></i> Login
        </button>
    </header>
    
    <!-- Ticker -->
    <div class="ticker-container">
        <div class="ticker">
            <span>ุชูููู ูุงู</span>
            <ul>
                <li><a href="https://play.google.com/store/apps/details?id=com.xpola.player" target="_blank">ูู ุจุชุญุฏูุซ ูุดุบู ุงูููุฏูู ุงูุฎุงุต ุจุงูุชุทุจูู</a></li>
                <li><a href="https://play.google.com/store/apps/details?id=com.xpola.player" target="_blank">ูู ูุชุฌุฑ ุฌูุฌู ุจูุงู ูุถูุงู</a></li>
                <li><a href="https://play.google.com/store/apps/details?id=com.xpola.player" target="_blank">ุชุดุบูู ุงููููุงุช ูุนุฏู ุงูุชูุทูุน</a></li>
                <li><a href="https://play.google.com/store/apps/details?id=com.xpola.player" target="_blank">ุดูุฑุง ููู ูุชุงุจุนููุง ุงููุฑุงู</a></li>
            </ul>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="content">
        <!-- Channels Grid -->
        <div id="channelsContainer" class="channels-container">
            <!-- Channels will be loaded dynamically -->
        </div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
        <p class="copyright">ุฌููุน ุงูุญููู ูุญููุธุฉ &copy; <span id="currentYear"></span> Aseel TV</p>
    </div>
    
    <!-- Install Modal -->
    <div id="installModal" class="modal">
        <div class="modal-content">
            <p>ููุดุงูุฏุฉ ุงููููุงุช ูุฌุจ ุนููู ุฃููุงู ุชุซุจูุช ุชุทุจูู ูุดุบู ุงููููุงุช ุงูุฎุงุต ุจุงูุชุทุจูู</p>
            <div class="dont-show-container">
                <input type="checkbox" id="dontShowAgain">
                <label for="dontShowAgain" style="margin-right: 10px;">ุนุฏู ุงูุฅุธูุงุฑ ูุฑุฉ ุฃุฎุฑู</label>
            </div>
            <div class="modal-buttons">
                <button id="confirmInstall" class="modal-button">ุชุญููู ูุดุบู ุงููููุงุช</button>
                <button id="cancelInstall" class="modal-button cancel-button">ุงูุบุงุก ุงูุชุญููู</button>
            </div>
        </div>
    </div>
    
    <!-- Admin Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h3 class="login-title">ุชุณุฌูู ุงูุฏุฎูู ููุฅุฏุงุฑุฉ</h3>
            <div class="form-group">
                <input type="email" id="adminEmail" class="form-control" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" value="admin@aseeltv.com" required>
            </div>
            <div class="form-group">
                <input type="password" id="adminPassword" class="form-control" placeholder="ูููุฉ ุงููุฑูุฑ" required>
            </div>
            <div id="loginError" class="login-error">
                ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ!
            </div>
            <div class="modal-buttons">
                <button id="loginButton" class="modal-button">ุฏุฎูู</button>
                <button id="cancelLogin" class="modal-button cancel-button">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK - MUST BE LOADED FIRST -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- App Config - LOAD SECOND -->
    <script src="js/firebase-config.js"></script>
    
    <!-- App Logic - LOAD LAST -->
    <script src="js/app.js"></script>

<script>
// ุฃุฏุงุฉ ุชุดุฎูุต ูููุณุงุนุฏุฉ ูู ุญู ุงููุดุงูู
console.log('๐ง ุฃุฏุงุฉ ุชุดุฎูุต Bein TV');

// ูุญุต ุงูุจูุงูุงุช ุงูุญุงููุฉ
function checkData() {
    console.log('๐ ูุญุต ุงูุจูุงูุงุช:');
    console.log('- ุงูุฃูุณุงู ูู localStorage:', localStorage.getItem('bein_sections'));
    console.log('- ุงููููุงุช ูู localStorage:', localStorage.getItem('bein_channels'));
    
    if (window.app && window.app.dataManager) {
        console.log('- ุงูุฃูุณุงู ูู ุงูุฐุงูุฑุฉ:', window.app.dataManager.sections);
        console.log('- ุงููููุงุช ูู ุงูุฐุงูุฑุฉ:', window.app.dataManager.channels);
        console.log('- ุงููุณู ุงููุดุท:', window.app.currentSection);
    }
}

// ุชุญุฏูุซ ูุฏูู ููุจูุงูุงุช
function forceRefresh() {
    if (window.app && window.app.dataManager) {
        window.app.dataManager.refreshData();
        console.log('๐ ุชู ุฅุฌุจุงุฑ ุชุญุฏูุซ ุงูุจูุงูุงุช');
    }
}

// ุฌุนู ุงูุฏูุงู ูุชุงุญุฉ globally
window.checkData = checkData;
window.forceRefresh = forceRefresh;

// ูุญุต ุชููุงุฆู ุนูุฏ ุงูุชุญููู
setTimeout(() => {
    checkData();
}, 2000);
</script>
</body>

</html>
